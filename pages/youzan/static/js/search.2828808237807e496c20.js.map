{"version":3,"sources":["webpack:///static/js/search.2828808237807e496c20.js","webpack:///./src/modules/js/api.js?4c58**","webpack:///./src/modules/js/common.js?e62e**","webpack:///./src/pages/search/search.js"],"names":["webpackJsonp","1","module","__webpack_exports__","__webpack_require__","rootUrl","ownUrl","url","recommendList","bannerList","navList","hotList","categoryList","goodsList","detail","deal","cartList","addressList","4","d","loadPageVar","sVar","decodeURI","window","location","search","replace","RegExp","encodeURI","6","exports","7","70","98","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","n","__WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_infinite_scroll_style_css__","__WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_infinite_scroll__","__WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_infinite_scroll___default","__WEBPACK_IMPORTED_MODULE_3_css_common_css__","__WEBPACK_IMPORTED_MODULE_4__search_css__","__WEBPACK_IMPORTED_MODULE_5_js_api_js__","__WEBPACK_IMPORTED_MODULE_6_js_common_js__","__WEBPACK_IMPORTED_MODULE_7_vue__","__WEBPACK_IMPORTED_MODULE_8_axios__","__WEBPACK_IMPORTED_MODULE_8_axios___default","use","a","el","data","pageNum","loading","keyword","id","searchTypeText","created","this","i","getGoodsList","methods","_this","get","then","res","concat","lists","input","event"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAAUC,EAAQC,EAAqBC,GAE7C,YCLA,IAAMC,GAAU,qCACVC,EAAS,qCACTC,GACJC,cAAeF,EAAS,uBACxBG,WAAYH,EAAS,oBACrBI,QAASL,EAAU,oBACnBM,QAASN,EAAU,iBACnBO,aAAcP,EAAU,oBACxBQ,UAAWR,EAAU,eACrBS,OAAQT,EAAU,iBAClBU,KAAMV,EAAU,cAChBW,SAAUX,EAAU,aACpBY,YAAaZ,EAAU,gBAEzBF,GAAA,KDUMe,EACA,SAAUhB,EAAQC,EAAqBC,GAE7C,YAC+BA,GAAoBe,EAAEhB,EAAqB,IAAK,WAAa,MAAOiB,IE5B5F,IAAMA,GAAc,SAACC,GAC1B,MAAOC,WAAUC,OAAOC,SAASC,OAAOC,QAAQ,GAAIC,QAAO,eAAiBC,UAAUP,GAAMK,QAAQ,YAAa,QAAU,uBAAwB,KAAM,SFkCrJG,EACA,SAAU3B,EAAQ4B,KAMlBC,EACA,SAAU7B,EAAQ4B,KAMlBE,GACA,SAAU9B,EAAQ4B,KAMlBG,GACA,SAAU/B,EAAQC,EAAqBC,GAE7C,YACA8B,QAAOC,eAAehC,EAAqB,cAAgBiC,OAAO,GAC7C,IAAIC,GAAwEjC,EAAoB,IAC5FkC,EAAgFlC,EAAoBmC,EAAEF,GACtGG,EAAsEpC,EAAoB,GAE1FqC,GAD8ErC,EAAoBmC,EAAEC,GACxCpC,EAAoB,KAChFsC,EAAoEtC,EAAoBmC,EAAEE,GAC1FE,EAA+CvC,EAAoB,GAEnEwC,GADuDxC,EAAoBmC,EAAEI,GACjCvC,EAAoB,KAEhEyC,GADoDzC,EAAoBmC,EAAEK,GAChCxC,EAAoB,IAC9D0C,EAA6C1C,EAAoB,GACjE2C,EAAoC3C,EAAoB,GACxD4C,EAAsC5C,EAAoB,GAC1D6C,EAA8C7C,EAAoBmC,EAAES,EGpE7FD,GAAA,QAAIG,IAAJR,EAAAS,GAEA,GAAIJ,GAAA,SACFK,GAAI,aACJC,MACExC,UAAW,KACXyC,QAAS,EACTC,SAAS,EACTC,QAAS,KACTC,GAAI,KACJC,eAAgB,MAElBC,QAVM,WAWJC,KAAKJ,QAAUpD,EAAAyD,EAAAf,EAAA,GAAY,WAC3Bc,KAAKH,GAAKrD,EAAAyD,EAAAf,EAAA,GAAY,OAAS,KAE5Bc,KAAKH,KAAIG,KAAKF,eAAiB,MAClCE,KAAKE,gBAEPC,SACED,aADO,WACQ,GAAAE,GAAAJ,IACVA,MAAKN,QAAU,IAClBM,KAAKL,SAAU,EACfN,EAAAE,EAAMc,IAAIpB,EAAA,EAAIhC,WACZ2C,QAASI,KAAKJ,QACdC,GAAIG,KAAKH,IAAM,OACdS,KAAK,SAAAC,GACNH,EAAKV,SAAW,EACZU,EAAKnD,YAAWmD,EAAKnD,cACzBmD,EAAKnD,aAALuD,OAAA9B,IAAqB0B,EAAKnD,WAA1ByB,IAAuC6B,EAAId,KAAKgB,QAChDL,EAAKT,SAAU,MAGnBe,MAdO,SAcDC,GACJX,KAAKH,GAAK,KACVG,KAAK/C,aACL+C,KAAKN,QAAU,EACfM,KAAKE,sBHyFR","file":"static/js/search.2828808237807e496c20.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 1:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar rootUrl = 'http://rapapi.org/mockjsdata/24170';\nvar ownUrl = 'http://rapapi.org/mockjsdata/24913';\nvar url = {\n  recommendList: ownUrl + '/index/recommendList',\n  bannerList: ownUrl + '/index/bannerList',\n  navList: rootUrl + '/category/topList',\n  hotList: rootUrl + '/category/rank',\n  categoryList: rootUrl + '/category/subList',\n  goodsList: rootUrl + '/search/list',\n  detail: rootUrl + '/goods/details',\n  deal: rootUrl + '/goods/deal',\n  cartList: rootUrl + '/cart/list',\n  addressList: rootUrl + '/address/list'\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (url);\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return loadPageVar; });\nvar loadPageVar = function loadPageVar(sVar) {\n  return decodeURI(window.location.search.replace(new RegExp(\"^(?:.*[&\\\\?]\" + encodeURI(sVar).replace(/[\\.\\+\\*]/g, \"\\\\$&\") + \"(?:\\\\=([^&]*))?)?.*$\", \"i\"), \"$1\"));\n};\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_infinite_scroll_style_css__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_infinite_scroll_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_infinite_scroll_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_infinite_scroll__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_infinite_scroll___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_infinite_scroll__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_css_common_css__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_css_common_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_css_common_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__search_css__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__search_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__search_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_js_api_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_js_common_js__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_vue__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_axios__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_axios__);\n\n\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_7_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_infinite_scroll___default.a);\n\nnew __WEBPACK_IMPORTED_MODULE_7_vue__[\"default\"]({\n  el: '.container',\n  data: {\n    goodsList: null,\n    pageNum: 0,\n    loading: false,\n    keyword: null,\n    id: null,\n    searchTypeText: '商品'\n  },\n  created: function created() {\n    this.keyword = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_js_common_js__[\"a\" /* loadPageVar */])('keyword');\n    this.id = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_js_common_js__[\"a\" /* loadPageVar */])('id') || null;\n    // console.log(loadPageVar('id') === 'undefined');\n    if (this.id) this.searchTypeText = '店铺';\n    this.getGoodsList();\n  },\n\n  methods: {\n    getGoodsList: function getGoodsList() {\n      var _this = this;\n\n      if (this.pageNum > 5) return;\n      this.loading = true;\n      __WEBPACK_IMPORTED_MODULE_8_axios___default.a.get(__WEBPACK_IMPORTED_MODULE_5_js_api_js__[\"a\" /* default */].goodsList, {\n        keyword: this.keyword,\n        id: this.id || null\n      }).then(function (res) {\n        _this.pageNum += 1;\n        if (!_this.goodsList) _this.goodsList = [];\n        _this.goodsList = [].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(_this.goodsList), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(res.data.lists));\n        _this.loading = false;\n      });\n    },\n    input: function input(event) {\n      this.id = null;\n      this.goodsList = [];\n      this.pageNum = 0;\n      this.getGoodsList();\n    }\n  }\n});\n\n/***/ })\n\n},[98]);\n\n\n// WEBPACK FOOTER //\n// static/js/search.2828808237807e496c20.js","const rootUrl = 'http://rapapi.org/mockjsdata/24170';\nconst ownUrl = 'http://rapapi.org/mockjsdata/24913';\nconst url = {\n  recommendList: ownUrl + '/index/recommendList',\n  bannerList: ownUrl + '/index/bannerList',\n  navList: rootUrl + '/category/topList',\n  hotList: rootUrl + '/category/rank',\n  categoryList: rootUrl + '/category/subList',\n  goodsList: rootUrl + '/search/list',\n  detail: rootUrl + '/goods/details',\n  deal: rootUrl + '/goods/deal',\n  cartList: rootUrl + '/cart/list',\n  addressList: rootUrl + '/address/list',\n};\nexport default url;\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","export const loadPageVar = (sVar) => {\n  return decodeURI(window.location.search.replace(new RegExp(\"^(?:.*[&\\\\?]\" + encodeURI(sVar).replace(/[\\.\\+\\*]/g, \"\\\\$&\") + \"(?:\\\\=([^&]*))?)?.*$\", \"i\"), \"$1\"));\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/common.js","import 'css/common.css';\nimport './search.css';\nimport url from 'js/api.js';\nimport {loadPageVar} from 'js/common.js';\nimport Vue from 'vue';\nimport axios from 'axios';\nimport { InfiniteScroll } from 'mint-ui';\nVue.use(InfiniteScroll);\n\nnew Vue({\n  el: '.container',\n  data: {\n    goodsList: null,\n    pageNum: 0,\n    loading: false,\n    keyword: null,\n    id: null,\n    searchTypeText: '商品',\n  },\n  created(){\n    this.keyword = loadPageVar('keyword');\n    this.id = loadPageVar('id') || null;\n    // console.log(loadPageVar('id') === 'undefined');\n    if(this.id) this.searchTypeText = '店铺';\n    this.getGoodsList();\n  },\n  methods: {\n    getGoodsList() {\n      if(this.pageNum > 5) return;\n      this.loading = true;\n      axios.get(url.goodsList,{\n        keyword: this.keyword,\n        id: this.id || null,\n      }).then(res => {\n        this.pageNum += 1;\n        if(!this.goodsList) this.goodsList = [];\n        this.goodsList = [...this.goodsList,...res.data.lists];\n        this.loading = false;\n      });\n    },\n    input(event) {\n      this.id = null;\n      this.goodsList = [];\n      this.pageNum = 0;\n      this.getGoodsList();\n    }\n  }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.js"],"sourceRoot":""}