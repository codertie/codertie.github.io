webpackJsonp([6],{1:function(t,e,c){"use strict";var i="http://rapapi.org/mockjsdata/24170",o="http://rapapi.org/mockjsdata/24913",s={recommendList:o+"/index/recommendList",bannerList:o+"/index/bannerList",navList:i+"/category/topList",hotList:i+"/category/rank",categoryList:i+"/category/subList",goodsList:i+"/search/list",detail:i+"/goods/details",deal:i+"/goods/deal",cartList:i+"/cart/list",addressList:i+"/address/list"};e.a=s},59:function(t,e){},60:function(t,e){},61:function(t,e){},94:function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(58),o=c.n(i),s=c(60),h=(c.n(s),c(61)),n=(c.n(h),c(59)),d=(c.n(n),c(0)),a=c(3),r=c.n(a),u=c(1);new d.default({el:"#app",data:{cartList:null,allChecked:!0,editStatus:!1,totalPrice:0,selectNum:0,editSelectNum:0,dialogShow:!1,dialogText:"确定要删除该商品吗?",deleteType:"single"},created:function(){this.getCartList()},watch:{editStatus:function(t,e){t?this.allChecked=!1:this.checkShopAndAll()},dialogShow:function(t,e){t||this.cartList.forEach(function(t){t.goodsList.forEach(function(t){t.waitDelete=!1})})}},methods:{getCartList:function(){var t=this;r.a.get(u.a.cartList).then(function(e){var c=e.data.cartList;c.forEach(function(t){t.checked=!0,t.editText="编辑",t.editStatus=!1,t.checkedMemory=null,t.editLocked=!1,t.goodsList.forEach(function(t){t.checked=!0,t.waitDelete=!1})}),t.cartList=c,t.totalPriceAndNum()})},selectShop:function(t){t.checked?(t.checked=!1,t.goodsList.forEach(function(t){t.checked=!1})):(t.checked=!0,t.goodsList.forEach(function(t){t.checked=!0})),this.checkShopAndAll(),this.checkEditSelectNum(),this.totalPriceAndNum()},selectAll:function(){this.editStatus?this.allChecked?(this.cartList.forEach(function(t){t.editStatus&&(t.checked=!1,t.goodsList.forEach(function(t){t.checked=!1}))}),this.allChecked=!1):(this.cartList.forEach(function(t){t.editStatus&&(t.checked=!0,t.goodsList.forEach(function(t){t.checked=!0}))}),this.allChecked=!0):(this.allChecked?(this.cartList.forEach(function(t){t.checked=!1,t.goodsList.forEach(function(t){t.checked=!1})}),this.allChecked=!1):(this.cartList.forEach(function(t){t.checked=!0,t.goodsList.forEach(function(t){t.checked=!0})}),this.allChecked=!0),this.totalPriceAndNum()),this.checkEditSelectNum()},selectGoods:function(t,e){t.checked?(t.checked=!1,this.allChecked&&(this.allChecked=!1),e.checked&&(e.checked=!1)):(t.checked=!0,this.checkShopAndAll()),this.checkEditSelectNum(),this.totalPriceAndNum()},checkShopAndAll:function(){var t=this,e=0;this.cartList.forEach(function(c,i){var o=0;c.goodsList.forEach(function(t,i){t.checked&&(o+=1),i===c.goodsList.length-1&&(o===c.goodsList.length?(c.checked=!0,e+=1):c.checked=!1)}),i===t.cartList.length-1&&(e===t.cartList.length?t.allChecked=!0:t.allChecked=!1)})},editShop:function(t){t.editStatus?(this.editStatus=!1,this.cartList.forEach(function(t){t.editLocked=!1}),t.editText="编辑",t.checkedMemory&&(t.checked=t.checkedMemory.checked,t.goodsList.forEach(function(e,c){e.checked=t.checkedMemory.goodsList[c].checked})),t.editStatus=!1,this.totalPriceAndNum()):(this.editStatus=!0,this.cartList.forEach(function(t){t.editLocked=!0}),t.editLocked=!1,t.editText="完成",t.checkedMemory=JSON.parse(o()(t)),t.checked=!1,t.goodsList.forEach(function(t){t.checked=!1}),t.editStatus=!0)},totalPriceAndNum:function(){var t=0,e=0;this.cartList.forEach(function(c){c.goodsList.forEach(function(c){c.checked&&(t+=c.price*c.number,e+=1)})}),this.totalPrice=t,this.selectNum=e},goodsMinus:function(t){t.number<2||(t.number-=1)},goodsPlus:function(t){t.number>8||(t.number+=1)},goodsNumInput:function(t){t.number<1&&(t.number=1),t.number>9&&(t.number=9)},checkEditSelectNum:function(){if(this.editStatus){var t=0;this.cartList.forEach(function(e){e.editStatus&&e.goodsList.forEach(function(e){e.checked&&(t+=1)})}),this.editSelectNum=t}},showDeleteDialog:function(t){this.dialogText="确定要删除该商品吗?",this.deleteType="single",this.dialogShow=!0,t.waitDelete=!0},showBatchDeleteDialog:function(){var t=0;this.cartList.forEach(function(e){e.editStatus&&e.goodsList.forEach(function(e){e.checked&&(t+=1)})}),this.dialogText="确定将所选"+t+"个商品删除?",this.deleteType="multiple",this.dialogShow=!0},deleteGoods:function(){var t=this;switch(this.deleteType){case"single":this.cartList.forEach(function(t,e){t.goodsList.forEach(function(e,c){e.waitDelete&&t.goodsList.splice(c,1)})});case"multiple":this.cartList.forEach(function(t,e){if(t.editStatus){!function e(){t.goodsList.forEach(function(c,i){var o=t.goodsList.length-1;c.checked&&t.goodsList.splice(i,1),i!==o&&e()})}()}})}this.cartList.forEach(function(e,c){0===e.goodsList.length&&(t.cartList.splice(c,1),t.cartList.forEach(function(t){t.editLocked=!1}),t.editStatus=!1,t.totalPriceAndNum())}),this.dialogShow=!1}}})}},[94]);
//# sourceMappingURL=cart.1b0f67af7e1fadfde3bb.js.map